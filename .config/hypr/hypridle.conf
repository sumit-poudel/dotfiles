#!    Â  â–‘â–’â–’â–’â–‘â–‘â–‘â–“â–“ Â   Â  Â  Â  Â ___________
#!    â–‘â–‘â–’â–’â–’â–‘â–‘â–‘â–‘â–‘â–“â–“ Â  Â  Â  Â //___________/
#!   â–‘â–‘â–’â–’â–’â–‘â–‘â–‘â–‘â–‘â–“â–“ Â  Â  _ Â  _ _ Â  Â _ _____
#!   â–‘â–‘â–’â–’â–‘â–‘â–‘â–‘â–‘â–“â–“â–“â–“â–“â–“ | | | | | Â | | Â __/
#!    â–‘â–’â–’â–‘â–‘â–‘â–‘â–“â–“ Â  â–“â–“ | |_| | |_/ /| |___
#!    Â â–‘â–’â–’â–‘â–‘â–“â–“ Â  â–“â–“ Â  \__ Â |____/ |____/
#!    Â  Â â–‘â–’â–“â–“ Â  â–“â–“ Â //____/

$LOCKSCREEN = hyprlock # preferred LOCKSCREEN e.g swaylock
# Hypridle Config - Clean, Battery-Aware Setup

$COND_LOCK = bash -c '[ "$(cat /sys/class/power_supply/ADP0/online)" = "0" ] && $LOCKSCREEN'
$COND_DPMS_OFF = bash -c '[ "$(cat /sys/class/power_supply/ADP0/online)" = "0" ] && hyprctl dispatch dpms off'
$COND_SUSPEND = bash -c '[ "$(cat /sys/class/power_supply/ADP0/online)" = "0" ] && $LOCKSCREEN && systemctl suspend'
$COND_DIM = bash -c '[ "$(cat /sys/class/power_supply/ADP0/online)" = "0" ] && brightnessctl -s && brightnessctl s 1%'

general {
    lock_cmd = $LOCKSCREEN
    before_sleep_cmd = $LOCKSCREEN
    after_sleep_cmd =
    ignore_dbus_inhibit = false
    ignore_systemd_inhibit = false
}

# ğŸ•¶ï¸ Dim screen (1 min)
listener {
    timeout = 60
    on-timeout = $COND_DIM
    on-resume = brightnessctl -r
}

# ğŸ”’ Lock screen (2 min)
listener {
    timeout = 120
    on-timeout = $COND_LOCK
}

# ğŸ’¡ Turn off screen (5 min)
listener {
    timeout = 300
    on-timeout = $COND_DPMS_OFF
    on-resume = hyprctl dispatch dpms on
}

# ğŸ’¤ Suspend (10 min)
listener {
    timeout = 600
    on-timeout = $COND_SUSPEND
}

