#!      ░▒▒▒░░░▓▓           ___________
#!    ░░▒▒▒░░░░░▓▓        //___________/
#!   ░░▒▒▒░░░░░▓▓     _   _ _    _ _____
#!   ░░▒▒░░░░░▓▓▓▓▓▓ | | | | |  | |  __/
#!    ░▒▒░░░░▓▓   ▓▓ | |_| | |_/ /| |___
#!     ░▒▒░░▓▓   ▓▓   \__  |____/ |____/
#!       ░▒▓▓   ▓▓  //____/

$LOCKSCREEN = hyprlock # preferred LOCKSCREEN e.g swaylock
# Hypridle Config - Clean, Battery-Aware Setup

$COND_LOCK = bash -c '[ "$(cat /sys/class/power_supply/ADP0/online)" = "0" ] && $LOCKSCREEN'
$COND_DPMS_OFF = bash -c '[ "$(cat /sys/class/power_supply/ADP0/online)" = "0" ] && hyprctl dispatch dpms off'
$COND_SUSPEND = bash -c '[ "$(cat /sys/class/power_supply/ADP0/online)" = "0" ] && $LOCKSCREEN && systemctl suspend'
$COND_DIM = bash -c '[ "$(cat /sys/class/power_supply/ADP0/online)" = "0" ] && brightnessctl -s && brightnessctl s 1%'

general {
    lock_cmd = $LOCKSCREEN
    before_sleep_cmd = $LOCKSCREEN
    after_sleep_cmd =
    ignore_dbus_inhibit = false
    ignore_systemd_inhibit = false
}

# 🕶️ Dim screen (1 min)
listener {
    timeout = 60
    on-timeout = $COND_DIM
    on-resume = brightnessctl -r
}

# 🔒 Lock screen (2 min)
listener {
    timeout = 120
    on-timeout = $COND_LOCK
}

# 💡 Turn off screen (5 min)
listener {
    timeout = 300
    on-timeout = $COND_DPMS_OFF
    on-resume = hyprctl dispatch dpms on
}

# 💤 Suspend (10 min)
listener {
    timeout = 600
    on-timeout = $COND_SUSPEND
}

